Saya telah menemukan beberapa bug alur (flow bugs) yang cukup mengganggu pengalaman pengguna. Berikut adalah rencana perbaikannya:

### **1. Alur Wishlist & Library (Paling Krusial)**
*   **Backend**: Memperbaiki `wishlistController.js` agar user tidak bisa memasukkan game yang sudah mereka miliki ke dalam Wishlist.
*   **Frontend**: 
    *   Mengirim prop `library` ke komponen `Wishlist.jsx` agar bisa menampilkan label "In Library" alih-alih tombol "Buy".
    *   Memperbarui fungsi `addToCart` di `App.jsx` agar memberikan peringatan jika user mencoba memasukkan game yang sudah dimiliki ke keranjang.

### **2. Alur Discovery Queue**
*   Memastikan tombol "Wishlist" dan "Buy" di `DiscoveryQueue.jsx` menghilang atau berubah menjadi "In Library" jika game tersebut sudah dimiliki, agar user tidak bingung.

### **3. Alur Pertemanan (Friend Request)**
*   Memperbaiki logika di `friendController.js` agar jika User A mengirim permintaan ke User B, dan User B juga mengirim permintaan ke User A, sistem secara otomatis menjadikan mereka teman (Accepted) alih-alih mengembalikan pesan error "Request already exists".

### **4. Alur Voucher di Halaman Keranjang**
*   Menambahkan pembersihan voucher otomatis jika user menghapus semua item dari keranjang, untuk mencegah kebingungan harga total.

### **Langkah Kerja:**
1.  Update `wishlistController.js` & `friendController.js` di Backend.
2.  Update `App.jsx` untuk logika `addToCart` dan distribusi prop `library`.
3.  Update `Wishlist.jsx` & `DiscoveryQueue.jsx` untuk sinkronisasi kepemilikan game.

Apakah Anda ingin saya segera memperbaiki alur-alur yang "bocor" ini?